================
atschema builder
================

Build an archetype from scratch, and use paster to add a contenttype::

    >>> tempdir = get_tempdir()
    >>> cd(tempdir)
    >>> paster('create -t archetype plone.example1 --no-interactive')
    paster create -t archetype plone.example1 --no-interactive
    ...
    >>> cd('plone.example1')
    >>> paster('addcontent contenttype --no-interactive') # doctest: +ELLIPSIS
    paster addcontent contenttype --no-interactive
    ...
          Inserting from types.xml_insert into...
    ...
    >>> content_dir = os.path.join(tempdir, 'plone.example1', 
    ...                            'plone', 'ploneexample1', 'content')
    
Check for the file::

    >>> ls(content_dir)
    __init__.py
    configure.zcml
    exampletype.py

Check to see that atschema is available::

    >>> paster('addcontent --list')
    paster addcontent --list
    ...
      atschema:     A handy AT schema builder
    ...
    <BLANKLINE>
    
Now add a schema field via paster::

	>>> paster('addcontent atschema --no-interactive')
	paster addcontent atschema --no-interactive
	...
	
Check that the schema was inserted::

    >>> cd(content_dir)
    >>> print open(os.path.join(content_dir, 'exampletype.py')).read()
    """Definition of the Example Type content type
    """
    ... 
        atapi.StringField(
    ...
    atapi.registerType(ExampleType, PROJECTNAME)
    <BLANKLINE>

	
